<html>
<head>
    <title>MathBot - Ada</title>
    <meta charset="utf-8">

    <!-- for mobile screens -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- grid css -->
    <link rel="stylesheet" media="all" href="resources/css/skeleton.css">
    <link rel="stylesheet" media="all" href="resources/css/normalize.css">

    <!-- custom css -->
    <link rel="stylesheet" media="all" href="resources/css/home.css">

    <!-- stylesheets for bubbles -->
    <link rel="stylesheet" media="all" href="resources/css/setup.css">
    <link rel="stylesheet" media="all" href="resources/css/says.css">
    <link rel="stylesheet" media="all" href="resources/css/reply.css">
    <link rel="stylesheet" media="all" href="resources/css/typing.css">
    <link rel="stylesheet" media="all" href="resources/css/input.css">
    <link rel="stylesheet" type="text/css" href="resources/css/mathquill.css">
</head>

<div class="colorbar-container">
    <div class="colorbar colorbar-blue"></div>
    <div class="colorbar colorbar-green"></div>
    <div class="colorbar colorbar-yellow"></div>
</div>

<header class="u-full-width">

    <div class="container">
        <div class="row">
            <div class="one column spacer"></div>

            <div class="nine columns relative">

                <h5><img id="logo" src="resources/image/mb_logo.png"> <strong>MATHBOT</strong></h5>

            </div>

        </div>
    </div>
</header>

<div class="container" style="height: 100%;">

    <div class="row" style="height: 100%;">

        <div class="one column spacer"></div>

        <!-- placeholder for where the chatbox is going to be rendered -->
        <div id="chat" class="ten columns"></div>

    </div>
</div>

<footer class="u-full-width">
    <div class="container">
        <div class="row full-height">
            <div class="eleven columns v-align">
                <p>Copyright ¬© 2017 Mathbot</p>
                <p><a href="#">About Mathbot</a> | <a href="mailto:haosheng@cs.stanford.edu">Contact us</a></p>
            </div>
        </div>
    </div>
</footer>

<body>


<!-- the script -->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="resources/js/mathquill.js"></script>
<script type="text/javascript" src="resources/js/mathbot.js"></script>
<script type="text/javascript" src="resources/json/algebra-3a1.js"></script>


<script>
    //force to always load the latest json
    var question_bank_json = {"q-intro": {"says": ["What's the next number in the sequence 2, 4, 6, 8, ..."], "branch": [{"evals": ["onlyIntMatch(response, \"10\")"], "next": "q-intro-1"}, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))", "!Boolean(response.match(\"^10$\"))"], "next": "q-intro-5"}, {"evals": ["Boolean(response.match(\"no\"))", "!Boolean(response.match(\"^[0-9]+$\"))"], "next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} }, {"next": "q-intro-18"} ], "is_root": true }, "q-intro-1": {"says": ["Good, how about the next (after 10)?"], "branch": [{"evals": ["onlyIntMatch(response, \"12\")"], "next": "q-intro-2"}, {"next": "q-intro-3"} ] }, "q-intro-2": {"says": ["Great! Now let's learn some terminology"], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "q-intro-3": {"says": ["Hmmm... do you wanna try again? What should be the number after 10?"], "branch": [{"evals": ["onlyIntMatch(response, \"12\")"], "next": "q-intro-4"}, {"next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} } ] }, "q-intro-4": {"says": ["Great! Now let's learn some terminology"], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "q-intro-5": {"says": ["Hmmm... here's a hint: the difference between each consecutive number is the same. Try again:"], "branch": [{"next": "q-intro-6"}, {"evals": ["onlyIntMatch(response, \"10\")"], "next": "q-intro-14"} ] }, "q-intro-6": {"says": ["Well, what's the difference between the first and second number?"], "branch": [{"evals": ["onlyIntMatch(response, \"2\")"], "next": "q-intro-7"}, {"next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} } ] }, "q-intro-7": {"says": ["Right. And what is the last term we know?"], "branch": [{"evals": ["onlyIntMatch(response, \"8\")"], "next": "q-intro-8"}, {"next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} } ] }, "q-intro-8": {"says": ["We're almost there.", "Now we know that each term equals the previous term plus 2. What number will satisfy this pattern if it comes right after 8?"], "branch": [{"evals": ["onlyIntMatch(response, \"10\")"], "next": "q-intro-9"}, {"next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} } ] }, "q-intro-9": {"says": ["Right, now how about the next (after 10)?"], "branch": [{"evals": ["onlyIntMatch(response, \"12\")"], "next": "q-intro-10"}, {"next": "q-intro-11"} ] }, "q-intro-10": {"says": ["Exactly! And this is a sequence!"], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "q-intro-11": {"random": "wrong_answer", "branch": [], "skip": "q-intro-12"}, "q-intro-12": {"says": ["Do you wanna try again? What should come after 10?"], "branch": [{"evals": ["onlyIntMatch(response, \"12\")"], "next": "q-intro-13"}, {"next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} } ] }, "q-intro-13": {"says": ["Exactly! And this is a sequence!"], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "q-intro-14": {"says": ["Good, how about the next (after 10)?"], "branch": [{"evals": ["onlyIntMatch(response, \"12\")"], "next": "q-intro-15"}, {"next": "q-intro-16"} ] }, "q-intro-15": {"says": ["Exactly! And this is a sequence!"], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "q-intro-16": {"says": ["Hmmm... do you wanna try again? What should be the number after 10?"], "branch": [{"evals": ["onlyIntMatch(response, \"12\")"], "next": "q-intro-17"}, {"next": "sequence", "nextProp": {"concept": true, "wrong": true, "nextType": "new"} } ] }, "q-intro-17": {"says": ["Exactly! And this is a sequence!"], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "q-intro-18": {"says": ["Sorry, I didn't quite get that. Maybe we should review the definition of a sequence."], "branch": [], "skip": "sequence", "nextProp": {"concept": true, "wrong": true, "no_grade": true, "no_transition": true, "nextType": "new"} }, "1-1": {"says": ["What's the second term in the sequence 1, 3, 5, 7, ...?"], "branch": [{"evals": ["onlyIntMatch(response, \"3\")"], "next": "pattern", "nextProp": {"concept": true, "nextType": "new"} }, {"evals": ["Boolean(response.match(\"term\"))", "!Boolean(response.match(\"^3$\"))"], "next": "1-1-1"}, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))", "!Boolean(response.match(\"^3$\"))"], "next": "1-1-3"}, {"next": "1-1-5"} ], "is_root": true }, "1-1-1": {"says": ["I'm glad you asked!"], "branch": [], "skip": "1-1-2"}, "1-1-2": {"says": ["Ordered lists of numbers like these are called sequences. Each number in a sequence is called a term.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/82b72dfc76c05d863b5f3b92d8097716693ac6a57ced555622a852486c827da2.png></span>"], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "1-1-3": {"says": ["Here's a hint: Each number in a sequence is called a *term*.  For example, the 3rd term of 2, 4, 6, 8... is 6.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/82b72dfc76c05d863b5f3b92d8097716693ac6a57ced555622a852486c827da2.png></span>"], "branch": [], "skip": "1-1-4"}, "1-1-4": {"says": ["Let's try again now. What's the second term of 1, 3, 5, 7, ...?"], "branch": [{"evals": ["onlyIntMatch(response, \"3\")"], "next": "pattern", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "pattern", "nextProp": {"concept": true, "wrong": true, "nextType": "review"} } ] }, "1-1-5": {"random": "wrong_answer", "branch": [], "skip": "1-1-6"}, "1-1-6": {"says": ["Let's revisit the concept once more."], "branch": [], "skip": "1-1-7"}, "1-1-7": {"says": ["Ordered lists of numbers like these are called sequences. Each number in a sequence is called a term.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/82b72dfc76c05d863b5f3b92d8097716693ac6a57ced555622a852486c827da2.png></span>"], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "1-2": {"says": ["Given the sequence 1, 3, 5, 7, ... We can see that the pattern is \"add 2 to the previous term\".", "What's the next number in the sequence 1, 3, 5, 7, ...?"], "branch": [{"evals": ["onlyIntMatch(response, \"9\")"], "next": "1-3", "nextProp": {"nextType": "new"} }, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))", "!Boolean(response.match(\"^9$\"))"], "next": "1-2-1"}, {"evals": ["Boolean(response.match(\"pattern\"))", "!Boolean(response.match(\"^[0-9]+$\"))"], "next": "1-2-7"}, {"next": "1-2", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} } ], "is_root": true }, "1-2-1": {"says": ["Hmm... what's the last term we know\uff1f"], "branch": [{"evals": ["onlyIntMatch(response, \"7\")"], "next": "1-2-2"}, {"next": "1-2-5"} ] }, "1-2-2": {"says": ["And, if we add 2 to that number it would be ...?"], "branch": [{"evals": ["onlyIntMatch(response, \"9\")"], "next": "1-3", "nextProp": {"nextType": "new"} }, {"next": "1-2-3"} ] }, "1-2-3": {"random": "wrong_answer", "branch": [], "skip": "1-2-4"}, "1-2-4": {"says": ["Well, let's review how to use patterns.", "Suppose we only know 3, 5, ... but we know the pattern is \"the next term is the previous term add 2\".", "So after 5 is 5 + 2 = 7", "<span><img src=https://mathbot.stanford.edu/resources/json/img/f64faf7016410fae647da24f45ff3710b08d1cfeafdcc60667095ea1cc6fca48.png></span>"], "branch": [], "skip": "1-2", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "1-2-5": {"random": "wrong_answer", "branch": [], "skip": "1-2-6"}, "1-2-6": {"says": ["Seems like we need to review how to identify the right term."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "1-2-7": {"random": "wrong_answer", "branch": [], "skip": "1-2-8"}, "1-2-8": {"says": ["We need to use a pattern to get the next term.", "Sequences usually have patterns that allow us to predict what the next term might be.", "For example, in the sequence 3, 5, 7 ..., you always add 2 to get the next term:", "The three dots that come at the end indicate that the sequence can be extended, even though we only see the first few terms", "<span><img src=https://mathbot.stanford.edu/resources/json/img/f64faf7016410fae647da24f45ff3710b08d1cfeafdcc60667095ea1cc6fca48.png></span>"], "branch": [], "skip": "1-2-9"}, "1-2-9": {"says": ["Want a another try?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "1-2", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, {"next": "1-2-10"} ] }, "1-2-10": {"says": ["Come on, you can do it! \ud83d\udcaa"], "branch": [], "skip": "1-2", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "1-3": {"says": ["Does the sequence 100, 96, 92, 88, ... have the pattern \"subtract 4 from previous term\"?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "arithmetic", "nextProp": {"concept": true, "nextType": "new"} }, {"evals": ["onlyIntMatch(response, \"4\")"], "next": "1-3-1"}, {"evals": ["onlyIntMatch(response, \"-4\")"], "next": "1-3-4"}, {"next": "1-3-7"} ], "is_root": true }, "1-3-1": {"says": ["In fact, -4 (not 4) is the common difference of the sequence.", "So, again, does this sequence 100, 96, 92, 88, ... express the pattern \"subtract 4 from previous term\"?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "arithmetic", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "1-3-2"} ] }, "1-3-2": {"random": "wrong_answer", "branch": [], "skip": "1-3-3"}, "1-3-3": {"says": ["Let's review sequence patern"], "branch": [], "skip": "pattern", "nextProp": {"wrong": true, "concept": true, "no_grade": true, "no_transition": true, "nextType": "review"} }, "1-3-4": {"says": ["-4 is the common difference of the sequence.", "So, again, does this sequence 100, 96, 92, 88, ... have the pattern \"subtract 4 from previous term\"?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "arithmetic", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "1-3-5"} ] }, "1-3-5": {"random": "wrong_answer", "branch": [], "skip": "1-3-6"}, "1-3-6": {"says": ["Let's review sequence patern"], "branch": [], "skip": "pattern", "nextProp": {"wrong": true, "concept": true, "no_grade": true, "no_transition": true, "nextType": "review"} }, "1-3-7": {"says": ["What's the difference between the 1st term and 2nd term?"], "branch": [{"evals": ["onlyIntMatch(response, \"4\")"], "next": "1-3-8"}, {"next": "1-3-15"} ] }, "1-3-8": {"random": "correct_answer", "branch": [], "skip": "1-3-9"}, "1-3-9": {"says": ["How about the difference between the 2nd and 3rd terms?"], "branch": [{"evals": ["onlyIntMatch(response, \"4\")"], "next": "1-3-10"}, {"next": "1-3-13"} ] }, "1-3-10": {"says": ["OK. And the difference between the 3rd and 4th terms?"], "branch": [{"evals": ["onlyIntMatch(response, \"4\")"], "next": "1-3", "nextProp": {"correct": true, "nextType": "self"} }, {"next": "1-3-11"} ] }, "1-3-11": {"random": "wrong_answer", "branch": [], "skip": "1-3-12"}, "1-3-12": {"says": ["Maybe we should review how to identify the right terms."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "1-3-13": {"random": "wrong_answer", "branch": [], "skip": "1-3-14"}, "1-3-14": {"says": ["Maybe we should review how to identify the right terms."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "1-3-15": {"random": "wrong_answer", "branch": [], "skip": "1-3-16"}, "1-3-16": {"says": ["Maybe we should review how to identify the right terms."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "2-1": {"says": ["What is the common difference of 1, 3, 5, 7, 9, ..."], "branch": [{"evals": ["onlyIntMatch(response, \"2\")"], "next": "2-2", "nextProp": {"nextType": "new"} }, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))"], "next": "2-1-1"}, {"next": "2-1-16"} ], "is_root": true }, "2-1-1": {"says": ["We\u2018re close! Let's take a step back; what is the difference between 1st and 2nd term?"], "branch": [{"evals": ["Boolean(response.match(\"term\"))"], "next": "2-1-2"}, {"evals": ["onlyIntMatch(response, \"2\")"], "next": "2-1-4"}, {"next": "2-1-7"} ] }, "2-1-2": {"random": "wrong_answer", "branch": [], "skip": "2-1-3"}, "2-1-3": {"says": ["Let's take a step back"], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "2-1-4": {"says": ["Correct, how about the difference between 2nd and 3rd term?"], "branch": [{"evals": ["onlyIntMatch(response, \"2\")"], "next": "2-1", "nextProp": {"nextType": "self"} }, {"next": "2-1-5"} ] }, "2-1-5": {"random": "wrong_answer", "branch": [], "skip": "2-1-6"}, "2-1-6": {"says": ["Maybe we should review how to identify the right terms."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "2-1-7": {"random": "wrong_answer", "branch": [], "skip": "2-1-8"}, "2-1-8": {"says": ["What's the 1st term?"], "branch": [{"evals": ["onlyIntMatch(response, \"1\")"], "next": "2-1-9"}, {"next": "2-1-14"} ] }, "2-1-9": {"says": ["And the 2nd term?"], "branch": [{"evals": ["onlyIntMatch(response, \"3\")"], "next": "2-1-10"}, {"next": "2-1-12"} ] }, "2-1-10": {"says": ["the 2nd term minus the 1st term is ... ?"], "branch": [{"evals": ["onlyIntMatch(response, \"2\")"], "next": "2-1", "nextProp": {"nextType": "self"} }, {"next": "2-1-11"} ] }, "2-1-11": {"says": ["3-1 = 2. So, the their difference is 2!"], "branch": [], "skip": "2-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "2-1-12": {"random": "wrong_answer", "branch": [], "skip": "2-1-13"}, "2-1-13": {"says": ["Maybe we should review how to identify the right terms."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "2-1-14": {"random": "wrong_answer", "branch": [], "skip": "2-1-15"}, "2-1-15": {"says": ["Maybe we should review how to identify the right terms."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "2-1-16": {"random": "wrong_answer", "branch": [], "skip": "2-1-17"}, "2-1-17": {"says": ["The common difference of an arithmetic sequence is the constant difference between consecutive terms. For example, the common difference of 10, 21, 32, 43 ... is 11.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/e08df1fdb4540bf526a8865e042a572066a0934e4ae125f1b7ff95e609fae2d1.png></span>"], "branch": [], "skip": "2-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "2-2": {"says": ["Is the sequence 100, 95, 90, 85, .. an <b>arithmetic sequence</b>?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "2-2-1"}, {"evals": ["Boolean(response.match(\"5\"))"], "next": "2-2-3"}, {"next": "2-2-6"} ], "is_root": true }, "2-2-1": {"random": "correct_answer", "branch": [], "skip": "2-2-2"}, "2-2-2": {"says": ["Great! Now, let's now see how can we describe a sequence with a formula"], "branch": [], "skip": "formula", "nextProp": {"concept": true, "no_grade": true, "nextType": "new"} }, "2-2-3": {"says": ["Well, -5 is the common difference of the sequence.", "So, again, is the sequence 100, 95, 90, 85, .. an arithmetic sequence?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "formula", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "2-2-4"} ] }, "2-2-4": {"random": "wrong_answer", "branch": [], "skip": "2-2-5"}, "2-2-5": {"says": ["Let's review the definition of arithmetic sequence"], "branch": [], "skip": "arithmetic", "nextProp": {"wrong": true, "concept": true, "no_grade": true, "no_transition": true, "nextType": "review"} }, "2-2-6": {"says": ["OK. What's the common difference of the sequence?"], "branch": [{"evals": ["onlyIntMatch(response, \"-5\")"], "next": "2-2-7"}, {"next": "2-2-12"} ] }, "2-2-7": {"says": ["Right. Here's the definition of arithmetic sequence:", "If the pattern of a sequence involves adding or subtracting a number to each term to get the next term. In an arithmetic sequence, the difference between consecutive terms is always the same.", "Now, what is your answer? Is this an arithmetic sequence?"], "branch": [{"evals": ["Boolean(response.match(\"y\"))"], "next": "2-2-8"}, {"next": "2-2-10"} ] }, "2-2-8": {"random": "correct_answer", "branch": [], "skip": "2-2-9"}, "2-2-9": {"says": ["Let's now see how can we describe a sequence with a formula"], "branch": [], "skip": "formula", "nextProp": {"concept": true, "no_grade": true, "nextType": "new"} }, "2-2-10": {"says": ["Well, in fact, it's an arithmetic sequence."], "branch": [], "skip": "2-2-11"}, "2-2-11": {"says": ["Let's now see how can we describe a sequence with a formula"], "branch": [], "skip": "formula", "nextProp": {"concept": true, "wrong": true, "no_grade": true, "nextType": "new"} }, "2-2-12": {"random": "wrong_answer", "branch": [], "skip": "2-2-13"}, "2-2-13": {"says": ["Let's figure out how to calculate/check the common difference first."], "branch": [], "skip": "2-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "4-1": {"says": ["What's a(5) of this sequence 3, 10, 17, 24, 31, 38, ...?"], "branch": [{"evals": ["onlyIntMatch(response, \"31\")"], "next": "recursive", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "4-1-1"} ], "is_root": true }, "4-1-1": {"says": ["Here's a hint: a(n) is exactly the n-th term of the sequence. Could you try this question again?"], "branch": [{"evals": ["onlyIntMatch(response, \"31\")"], "next": "recursive", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "4-1-2"} ] }, "4-1-2": {"random": "wrong_answer", "branch": [], "skip": "4-1-3"}, "4-1-3": {"says": ["Seems like we have some problem identifying the 5th term of the sequence."], "branch": [], "skip": "1-1", "nextProp": {"wrong": true, "no_grade": true, "nextType": "review"} }, "4-2": {"says": ["Given a(1) = 10, a(n) = a(n-1)+5, what is the a(4) in this sequence?"], "branch": [{"evals": ["onlyIntMatch(response, \"25\")"], "next": "explicit", "nextProp": {"concept": true, "nextType": "new"} }, {"next": "4-2-1"} ], "is_root": true }, "4-2-1": {"says": ["Let's do it step by step. What is a(2) here?"], "branch": [{"evals": ["onlyIntMatch(response, \"15\")"], "next": "4-2-2"}, {"next": "4-2-17"} ] }, "4-2-2": {"random": "correct_answer", "branch": [], "skip": "4-2-3"}, "4-2-3": {"says": ["a(2) = a(1) + 5 = 10 + 5 = 15. Then what is a(3)?"], "branch": [{"evals": ["onlyIntMatch(response, \"20\")"], "next": "4-2-4"}, {"next": "4-2-6"} ] }, "4-2-4": {"random": "correct_answer", "branch": [], "skip": "4-2-5"}, "4-2-5": {"says": ["a(3) = a(2) + 5 = 15 + 5 = 20."], "branch": [], "skip": "4-2", "nextProp": {"nextType": "self"} }, "4-2-6": {"says": ["Here's a hint, you can plug in n=3 to calculate a(3) with a(2). So a(3) = a(2) + ?"], "branch": [{"evals": ["onlyIntMatch(response, \"5\")"], "next": "4-2-7"}, {"next": "4-2-12"} ] }, "4-2-7": {"says": ["Great, that's right. a(3) = a(2) + 5 = ?"], "branch": [{"evals": ["onlyIntMatch(response, \"20\")"], "next": "4-2-8"}, {"next": "4-2-10"} ] }, "4-2-8": {"random": "correct_answer", "branch": [], "skip": "4-2-9"}, "4-2-9": {"says": ["a(3) = a(2) + 5 = 15 + 5 = 20."], "branch": [], "skip": "4-2", "nextProp": {"nextType": "self"} }, "4-2-10": {"random": "wrong_answer", "branch": [], "skip": "4-2-11"}, "4-2-11": {"says": ["Remember we have already know a(2) = 15 and a(3) = a(2) + 5 = 15 + 5 = 20. Let's try a(4) again."], "branch": [], "skip": "4-2", "nextProp": {"wrong": true, "no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-12": {"says": ["It should be a(3) = a(2) + 5 if n=3 for a(n) = a(n-1) + 5. Now, what is a(3) = a(2) + 5 = ?"], "branch": [{"evals": ["onlyIntMatch(response, \"20\")"], "next": "4-2-13"}, {"next": "4-2-15"} ] }, "4-2-13": {"random": "correct_answer", "branch": [], "skip": "4-2-14"}, "4-2-14": {"says": ["a(3) = a(2) + 5 = 15 + 5 = 20. I think you are now able to answer the question."], "branch": [], "skip": "4-2", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-15": {"random": "wrong_answer", "branch": [], "skip": "4-2-16"}, "4-2-16": {"says": ["Remember we have already know a(2) = 15 and a(3) = a(2) + 5 = 15 + 5 = 20. Let's try a(4) again."], "branch": [], "skip": "4-2", "nextProp": {"wrong": true, "no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-17": {"random": "wrong_answer", "branch": [], "skip": "4-2-18"}, "4-2-18": {"says": ["Here's a hint, you can plug in n=2 to calculate a(2) with a(1). So a(2) = a(1) + ?"], "branch": [{"evals": ["onlyIntMatch(response, \"5\")"], "next": "4-2-19"}, {"next": "4-2-32"} ] }, "4-2-19": {"says": ["Great, that's right. a(2) = a(1) + 5 = 10 + 5 = 15. Then what's a(3)?"], "branch": [{"evals": ["onlyIntMatch(response, \"20\")"], "next": "4-2-20"}, {"next": "4-2-22"} ] }, "4-2-20": {"random": "correct_answer", "branch": [], "skip": "4-2-21"}, "4-2-21": {"says": ["a(3) = a(2) + 5 = 15 + 5 = 20. I think you are now able to answer the question."], "branch": [], "skip": "4-2", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-22": {"random": "wrong_answer", "branch": [], "skip": "4-2-23"}, "4-2-23": {"says": ["Here's a hint, you can plug in n=3 to calculate a(3) with a(2). So a(3) = a(2) + ?"], "branch": [{"evals": ["onlyIntMatch(response, \"5\")"], "next": "4-2-24"}, {"next": "4-2-28"} ] }, "4-2-24": {"says": ["Great, that's right. a(3) = a(2) + 5 = ?"], "branch": [{"evals": ["onlyIntMatch(response, \"20\")"], "next": "4-2-25"}, {"next": "4-2-27"} ] }, "4-2-25": {"random": "correct_answer", "branch": [], "skip": "4-2-26"}, "4-2-26": {"says": ["a(3) = a(2) + 5 = 15 + 5 = 20. I think you are now able to answer the question."], "branch": [], "skip": "4-2", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-27": {"says": ["Remember we have already know a(2) = 15 and a(3) = a(2) + 5 = 15 + 5 = 20. Let's try a(4) again."], "branch": [], "skip": "4-2", "nextProp": {"wrong": true, "no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-28": {"says": ["It should be a(3) = a(2) + 5 if n=3 for a(n) = a(n-1) + 5. Now, what is a(3) = a(2) + 5 = ?"], "branch": [{"evals": ["onlyIntMatch(response, \"20\")"], "next": "4-2-29"}, {"next": "4-2-31"} ] }, "4-2-29": {"random": "correct_answer", "branch": [], "skip": "4-2-30"}, "4-2-30": {"says": ["a(3) = a(2) + 5 = 15 + 5 = 20. I think you are now able to answer the question."], "branch": [], "skip": "4-2", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-31": {"says": ["Remember we have already know a(2) = 15 and a(3) = a(2) + 5 = 15 + 5 = 20. Let's try to get a(4) again."], "branch": [], "skip": "4-2", "nextProp": {"wrong": true, "no_grade": true, "no_transition": true, "nextType": "self"} }, "4-2-32": {"random": "wrong_answer", "branch": [], "skip": "4-2-33"}, "4-2-33": {"says": ["Let me re-phrase the question a bit:", "The first term of the sequence is 10 and the sequence has a pattern that every term is 2 plus the previous term. What is its 4th term?"], "branch": [{"evals": ["onlyIntMatch(response, \"25\")"], "next": "4-2-34"}, {"next": "4-1", "nextProp": {"wrong": true, "nextType": "review"} } ] }, "4-2-34": {"random": "correct_answer", "branch": [], "skip": "4-2-35"}, "4-2-35": {"says": ["So we do know the answer, but maybe not that familiar with sequence formulas.", "Let's review the concept of a formula and then come back to this question."], "branch": [], "skip": "formula", "nextProp": {"concept": true, "no_grade": true, "nextType": "review"} }, "4-3": {"says": ["Given the formula of the sequence as a(n) = 3(n-1) + 4, what is its 11th term?"], "branch": [{"evals": ["onlyIntMatch(response, \"34\")"], "next": "4-3-1"}, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))", "!Boolean(response.match(\"^34$\"))"], "next": "4-3-3"}, {"next": "4-3-12"} ], "is_root": true }, "4-3-1": {"random": "correct_answer", "branch": [], "skip": "4-3-2"}, "4-3-2": {"random": "good_bye", "branch": [] }, "4-3-3": {"random": "wrong_answer", "branch": [], "skip": "4-3-4"}, "4-3-4": {"says": ["Here's a hint: we should plug in \"n\" in the formula to get the right answer."], "branch": [{"evals": ["onlyIntMatch(response, \"34\")"], "next": "4-3-5"}, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))", "!Boolean(response.match(\"^34$\"))"], "next": "4-3-7"} ] }, "4-3-5": {"random": "correct_answer", "branch": [], "skip": "4-3-6"}, "4-3-6": {"random": "good_bye", "branch": [] }, "4-3-7": {"says": ["That's not correct. What is the n you used?"], "branch": [{"evals": ["onlyIntMatch(response, \"11\")"], "next": "4-3-8"}, {"evals": ["Boolean(response.match(\"^[0-9]+$\"))", "!Boolean(response.match(\"^11$\"))"], "next": "4-3-9"} ] }, "4-3-8": {"says": ["It seems like you made a mistake in your calculation. It should look something like 3(11-1) + 4"], "branch": [], "skip": "4-3", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "4-3-9": {"says": ["We may want to use a different n.", "Formulas use a(n) to represent the n-th term of the sequence. In that case what would be the right n for 11th term?"], "branch": [{"evals": ["onlyIntMatch(response, \"11\")"], "next": "4-3", "nextProp": {"nextType": "self"} }, {"next": "4-3-10"} ] }, "4-3-10": {"random": "wrong_answer", "branch": [], "skip": "4-3-11"}, "4-3-11": {"says": ["Since we are looking for the 11th term, we should use n=11"], "branch": [], "skip": "4-3", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "4-3-12": {"says": ["I'm not sure what your answer means. Would you like to try again?"], "branch": [], "skip": "4-3", "nextProp": {"wrong": true, "no_grade": true, "nextType": "self"} }, "welcome": {"says": ["Hi, this is Ada. I'm a chatbot"], "branch": [], "is_root": true, "skip": "welcome-1"}, "welcome-1": {"says": ["We're going to try some math together today. What's your name?"], "branch": [{"next": "welcome-2"} ] }, "welcome-2": {"says": ["Nice to meet you! Let's start with a simple question:"], "branch": [], "skip": "q-intro", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "new"} }, "sequence": {"says": ["Ordered lists of numbers like these are called <i>sequences</i>.", "Each number in a sequence is called a <i>term</i>.", "Does that make sense?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "sequence-1"}, {"next": "sequence-3"} ], "is_root": true }, "sequence-1": {"says": ["Great! Let's look at this example:", "<span><img src=https://mathbot.stanford.edu/resources/json/img/82b72dfc76c05d863b5f3b92d8097716693ac6a57ced555622a852486c827da2.png></span>"], "branch": [], "skip": "sequence-2"}, "sequence-2": {"says": ["In this example, 2 is the 1st term and 4 is the 2nd term."], "branch": [], "skip": "1-1", "nextProp": {"no_grade": true, "nextType": "new"} }, "sequence-3": {"says": ["No worries. Let's look at this example:", "<span><img src=https://mathbot.stanford.edu/resources/json/img/82b72dfc76c05d863b5f3b92d8097716693ac6a57ced555622a852486c827da2.png></span>"], "branch": [], "skip": "sequence-4"}, "sequence-4": {"says": ["In this example, 2 is the 1st term and 4 is the 2nd term."], "branch": [], "skip": "1-1", "nextProp": {"no_grade": true, "nextType": "new"} }, "pattern": {"says": ["Sequences usually have patterns that allow us to predict what the next term might be.", "For example, in the sequence 3, 5, 7, 9, 11,  ..., you always add 2 to the previous term to get the next term.", "Does that make sense?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "pattern-1"}, {"next": "pattern-3"} ], "is_root": true }, "pattern-1": {"says": ["Great! Of course, you can have different patterns, like: Multiply the previous term by 2. Subtract three from the previous term.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/2fdkmrvcn43ntni72od9dk68ap.png></span>"], "branch": [], "skip": "pattern-2"}, "pattern-2": {"says": ["Blablabla... We'll see more later."], "branch": [], "skip": "1-2", "nextProp": {"no_grade": true, "nextType": "new"} }, "pattern-3": {"says": ["Maybe these equations will help you a bit: 3+2=5. 5+2=7. 7+2=9... Of course, you can have different patterns. For instance, multiply the previous term by two, subtract three from the previous term. Blablabla... We'll see more later."], "branch": [], "skip": "1-2", "nextProp": {"no_grade": true, "nextType": "new"} }, "arithmetic": {"says": ["So far we have only seen patterns involving adding or subtracting a number from each term to get the next term.", "Sequences with such patterns are called <i> arithmetic sequences</i> .", "Do you remember these, right?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "arithmetic-1"}, {"next": "arithmetic-2"} ], "is_root": true }, "arithmetic-1": {"says": ["Great!", "There's a constant difference between consecutive terms in an arithmetic sequence, which is called the common difference.", "For example, the common difference of 10, 21, 32, 43 ... is 11:", "<span><img src=https://mathbot.stanford.edu/resources/json/img/59huvr2hjqa9incdb2pljnr13i.png></span>"], "branch": [], "skip": "2-1", "nextProp": {"no_grade": true, "nextType": "new"} }, "arithmetic-2": {"says": ["Are you sure?", "We've been working on arithmetic sequences.", "For a sequence, if there's a constant difference between consecutive terms, it's an arithmetic sequence.", "And the constant difference is called common difference. For example, the common difference of 10, 21, 32, 43 ... is 11:", "<span><img src=https://mathbot.stanford.edu/resources/json/img/2mq44cho9mlvtrmmtuhjm5t6tt.png></span>"], "branch": [], "skip": "2-1", "nextProp": {"no_grade": true, "nextType": "new"} }, "formula": {"says": ["We are used to describing arithmetic sequences by listing a sequence of numbers. But there are other ways.", "Do you happen to know one?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "formula-1"}, {"next": "formula-2"} ], "is_root": true }, "formula-1": {"says": ["Wonderful!", "There are <i>recursive formulas</i> and <i>explicit formulas</i>. They're called formulas because they give us instructions on how to find any term of a sequence.", "In general, formulas use a(n) as the n-th term of the sequence. For instance, in the following example when n = 2, a(n) = 5.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/1m5mpksiceed8tsu1me24s4fgu.png></span>"], "branch": [], "skip": "4-1", "nextProp": {"no_grade": true, "nextType": "new"} }, "formula-2": {"says": ["Learning time!", "There are <i>recursive formula</i> and <i>explicit formulas</i>.", "They're called formulas because they give us instructions on how to find any term of a sequence.", "In general, formulas use a(n) as the n-th term of the sequence. For instance, in the following example when n = 2, a(n) = 5.", "<span><img src=https://mathbot.stanford.edu/resources/json/img/29pigi2isvm0fob1ak6n535nff.png></span>"], "branch": [], "skip": "4-1", "nextProp": {"no_grade": true, "nextType": "new"} }, "recursive": {"says": ["Let's talk about <i>recursive formula</i> now. Recursive formulas have two parts:", "(1) the first term of the sequence", "(2) the formula that uses the previous term to define the next term.", "Does that make sense?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "recursive-1"}, {"next": "recursive-5"} ], "is_root": true }, "recursive-1": {"says": ["Great! Let's see an example.", "Here is the recursive formula for the sequence 3, 5, 7, ...", "<span><img src=https://mathbot.stanford.edu/resources/json/img/2oiofs1es9pjqmu34u5jvl48k7.png></span>"], "branch": [], "skip": "recursive-2"}, "recursive-2": {"says": ["Here is how we use recursive formulas to find the 5th term", "<span><img src=https://mathbot.stanford.edu/resources/json/img/4bcrhk0h5knfb12o745g1u3mkc.png></span>"], "branch": [], "skip": "recursive-3"}, "recursive-3": {"says": ["Ready for a practice question now?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "4-2", "nextProp": {"no_grade": true, "nextType": "new"} }, {"next": "recursive-4"} ] }, "recursive-4": {"says": ["Well, let's try a simple example and see if we can figure it out"], "branch": [], "skip": "4-3", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "new"} }, "recursive-5": {"says": ["Let's look at this example.", "Here is the recursive formula for the sequence 3, 5, 7, ...", "<span><img src=https://mathbot.stanford.edu/resources/json/img/07u12s3cvibg120kmg2pmm1uas.png></span>"], "branch": [], "skip": "recursive-6"}, "recursive-6": {"says": ["Here is how we use  the recursive formula to find the 5th term", "<span><img src=https://mathbot.stanford.edu/resources/json/img/2s0l7qg5hovohha53ar0po1s9i.png></span>"], "branch": [], "skip": "recursive-7"}, "recursive-7": {"says": ["Ready for a practice question now?"], "branch": [{"evals": ["Boolean(response.match(\"^(y)|^(right|sure|ok|okay|of course)$\"))"], "next": "4-2", "nextProp": {"no_grade": true, "nextType": "new"} }, {"next": "recursive-8"} ] }, "recursive-8": {"says": ["Well, let's start with a simple question and see if we can solve it."], "branch": [], "skip": "4-3", "nextProp": {"no_grade": true, "no_transition": true, "nextType": "new"} }, "explicit": {"says": ["Now we are gonna talk about <i>explicit formulas</i>. An explicit formula is a formula we can use to find the n-th term of a sequence."], "branch": [], "is_root": true, "skip": "explicit-1"}, "explicit-1": {"says": ["Let's look at the sequence 3, 5, 7, 9, ...", "The explicit formula is a(n) = 3+2(n-1). So if we have n = 4, what is a(4)?"], "branch": [{"evals": ["onlyIntMatch(response, \"9\")"], "next": "4-3", "nextProp": {"nextType": "new"} }, {"next": "explicit-2"} ] }, "explicit-2": {"says": ["Almost! Let's break it down:", "When n = 1, we have 3 + 2 * (1 - 1) = 3, and therefore a(1) = 3", "When n = 2, we have a(2) = 3 + 2 * (2 - 1), which is 5", "and so on.", "So, a(4) = 3 + 2 * (4 - 1). Which is... 9!"], "branch": [], "skip": "4-3", "nextProp": {"wrong": true, "no_grade": true, "nextType": "new"} } };
    var random_says_json = {"wrong_answer_but_new_concept": [["No worries, let's check out this concept:"] ], "wrong_answer_but_new_question": [["No worries, let's try another question"] ], "another_concept": [["You seem to be an expert on this! Let's move forward"], ["So far so good! Let's check out something new!"], ["A piece of cake? I will get you something different"], ["All right, we're almost there! Let's move forward"] ], "another_question": [["Now let's move on to a new question!"], ["Alright, let me get you a new one"], ["and... here is your new challenge:"] ], "previously_failed_concept": [["Alright, let's revisit the concept again:"], ["Let's take a look at the concept again:"], ["Now let's come back to the concept for a moment:"] ], "previously_failed_question": [["Alright, let's see if we can get the previous one right this time"], ["Now let's try the old question again:"], ["Now I think you will be able to do this question:"] ], "try_easier_question": ["Let's try this easier question first", "Let's do this one instead"], "try_easier_concept": ["Let's revisit some concept", "Let's review some concept"], "try_again_the_same_concept": [["OK, let's revisit to the concept again"] ], "try_again_the_same_question": [["OK, let's redo the question"], ["Could you answer the question again?"], ["I think now you're able to answer the question"], ["Let's try the question again:"], ["Let's see if we can get the question right this time"], ["Let's do it again", "I'm sure we can get it right this time! üëè"] ], "correct_answer": [["Exactly!"], ["Great, that's correct"], ["Great! That's the correct answer"], ["That's correct!"], ["Bingo! üèÜ"], ["That's exactly right!ü•á"], ["Great, that's exactly what we are looking for"] ], "wrong_answer": [["Hmm... that does not seem right..."], ["Are you sure that's the right answer? ü§î"], ["That's not what we are looking for..."], ["That's not quite right."] ], "good_bye": [["I think that's it for today", "You've done a great job!", "I'm looking forward to practicing math with you next time :)", "Bye-bye!"] ] };
    bubble = new Bubbles(
        document.getElementById('chat'),
        "giveMeBubbles",
        {
            randomDict: random_says_json,
            typeSpeed: 50
        });
    console.log(random_says_json);
    bubble.startConversation(question_bank_json, "welcome");
</script>
</body>
